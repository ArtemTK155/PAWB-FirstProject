{"remainingRequest":"/usr/src/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/src/app/src/components/EditeDeleteEmp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/src/app/src/components/EditeDeleteEmp.vue","mtime":1572400722144},{"path":"/usr/src/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/src/app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/usr/src/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/src/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJlZGl0ZURlbGV0ZSIsDQogIGRhdGE6ICgpID0+ICh7DQogICAgZGlhbG9nOiBmYWxzZSwNCiAgICBvcHRpb25zOiB7DQogICAgICBub21lOiAiTm9tZSIsDQogICAgICBtb3JhZGE6ICJNb3JhZGEiLA0KICAgICAgY29kaWdvX3Bvc3RhbDogIkNvZGlnbyBQb3N0YWwiLA0KICAgICAgZnJlZ3Vlc2lhOiAiRnJlZ3Vlc2lhIiwNCiAgICAgIHRlbGVmb25lOiAiVGVsZWZvbmUiDQogICAgfSwNCiAgICBoZWFkZXJzOiBbDQogICAgICB7IHRleHQ6ICJOb21lIiwgdmFsdWU6ICJub21lIiB9LA0KICAgICAgeyB0ZXh0OiAiTW9yYWRhIiwgdmFsdWU6ICJtb3JhZGEiIH0sDQogICAgICB7IHRleHQ6ICJDb2RpZ28gUG9zdGFsIiwgdmFsdWU6ICJjb2RpZ29fcG9zdGFsIiB9LA0KICAgICAgeyB0ZXh0OiAiRnJlZ3Vlc2lhIiwgdmFsdWU6ICJmcmVndWVzaWEiIH0sDQogICAgICB7IHRleHQ6ICJUZWxlZm9uZSIsIHZhbHVlOiAidGVsZWZvbmUiIH0sDQogICAgICB7IHRleHQ6ICJBY3Rpb25zIiwgdmFsdWU6ICJhY3Rpb24iIH0NCiAgICBdLA0KICAgIHRhYmxlRGF0YTogW10sDQogICAgc2VsZWN0ZWRJdGVtOiBbXSwNCiAgICBlZGl0ZWRJbmRleDogLTEsDQogICAgZWRpdGVkSXRlbTogew0KICAgICAgbm9tZTogIiIsDQogICAgICBtb3JhZGE6ICIiLA0KICAgICAgY29kaWdvX3Bvc3RhbDogIiIsDQogICAgICBmcmVndWVzaWE6ICIiLA0KICAgICAgdGVsZWZvbmU6ICIiDQogICAgfSwNCiAgICBkZWZhdWx0SXRlbTogew0KICAgICAgbm9tZTogIiIsDQogICAgICBtb3JhZGE6ICIiLA0KICAgICAgY29kaWdvX3Bvc3RhbDogIiIsDQogICAgICBmcmVndWVzaWE6ICIiLA0KICAgICAgdGVsZWZvbmU6ICIiDQogICAgfQ0KICB9KSwNCg0KICBjb21wdXRlZDogew0KICAgIGZvcm1UaXRsZSgpIHsNCiAgICAgIHJldHVybiB0aGlzLmVkaXRlZEluZGV4ID09PSAtMSA/ICJOZXcgSXRlbSIgOiAiRWRpdCBJdGVtIjsNCiAgICB9LA0KICAgIHRlc3RpbmdEYXRhKCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRlc0RhdGE7DQogICAgfQ0KICB9LA0KDQogIHdhdGNoOiB7DQogICAgZGlhbG9nKHZhbCkgew0KICAgICAgdmFsIHx8IHRoaXMuY2xvc2UoKTsNCiAgICB9DQogIH0sDQoNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmluaXRpYWxpemUoKTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgZ2V0YWJsZURhdGEoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo0MDAwL2VtcHJlc2FzIik7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGVzRGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgIHJlc3BvbnNlOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7DQogICAgICB9DQogICAgfSwNCg0KICAgIGluaXRpYWxpemUoKSB7DQogICAgICB0aGlzLmdldGFibGVEYXRhKCk7DQogICAgfSwNCg0KICAgIGFzeW5jIGl0ZW1Ub0RlbGV0ZShfaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZGVsZXRlKA0KICAgICAgICAgICJodHRwOi8vbG9jYWxob3N0OjQwMDAvZW1wcmVzYXMvIiArIF9pZA0KICAgICAgICApOw0KICAgICAgICAvL3RoaXMudGFibGVEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgLy90aGlzLiRzdG9yZS5zdGF0ZS50ZXNEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgcmVzcG9uc2U7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYXN5bmMgaXRlbVRvRWRpdChfaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdCgNCiAgICAgICAgICAiaHR0cDovL2xvY2FsaG9zdDo0MDAwL2VtcHJlc2FzLyIgKyBfaWQsDQogICAgICAgICAgdGhpcy5lZGl0ZWRJdGVtDQogICAgICAgICk7DQogICAgICAgIGNvbnNvbGUubG9nKCJpdGVtIHRvIGVkaXQiKTsNCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgICAvL3RoaXMudGFibGVEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgLy90aGlzLiRzdG9yZS5zdGF0ZS50ZXNEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBlZGl0SXRlbShpdGVtKSB7DQogICAgICB0aGlzLmVkaXRlZEluZGV4ID0gdGhpcy50YWJsZURhdGEuaW5kZXhPZihpdGVtKTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbTsNCiAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOw0KICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0ZWRJdGVtKTsNCg0KICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOw0KICAgIH0sDQoNCiAgICBkZWxldGVJdGVtKGl0ZW0pIHsNCiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50YWJsZURhdGEuaW5kZXhPZihpdGVtKTsNCiAgICAgIGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBpdGVtPyIpICYmDQogICAgICAgIHRoaXMudGFibGVEYXRhLnNwbGljZShpbmRleCwgMSk7DQogICAgICB0aGlzLml0ZW1Ub0RlbGV0ZShpdGVtLl9pZCk7DQogICAgfSwNCg0KICAgIGNsb3NlKCkgew0KICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsNCg0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMuZWRpdGVkSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdEl0ZW0pOw0KICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTE7DQogICAgICB9LCAzMDApOw0KICAgIH0sDQoNCiAgICBzYXZlKCkgew0KICAgICAgaWYgKHRoaXMuZWRpdGVkSW5kZXggPiAtMSkgew0KICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMudGFibGVEYXRhW3RoaXMuZWRpdGVkSW5kZXhdLCB0aGlzLmVkaXRlZEl0ZW0pOw0KICAgICAgICB0aGlzLml0ZW1Ub0VkaXQodGhpcy5lZGl0ZWRJdGVtLl9pZCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnRhYmxlRGF0YS5wdXNoKHRoaXMuZWRpdGVkSXRlbSk7DQogICAgICB9DQogICAgICB0aGlzLmNsb3NlKCk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["EditeDeleteEmp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditeDeleteEmp.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-data-table :headers=\"headers\" :items=\"testingData\" class=\"elevation-1\">\r\n    <template v-slot:top>\r\n      <v-toolbar flat color=\"white\">\r\n        <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n          <v-card>\r\n            <v-card-title>\r\n              <span class=\"headline\">{{ formTitle }}</span>\r\n            </v-card-title>\r\n            <v-card-text>\r\n              <v-container>\r\n                <v-row>\r\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                    <v-text-field v-model=\"editedItem.nome\" :label=\"options.nome\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                    <v-text-field v-model=\"editedItem.morada\" :label=\"options.morada\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                    <v-text-field v-model=\"editedItem.codigo_postal\" :label=\"options.codigo_postal\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                    <v-text-field v-model=\"editedItem.freguesia\" :label=\"options.freguesia\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                    <v-text-field v-model=\"editedItem.telefone\" :label=\"options.telefone\"></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-container>\r\n            </v-card-text>\r\n            <v-card-actions>\r\n              <v-spacer></v-spacer>\r\n              <v-btn color=\"blue darken-1\" text @click=\"close\">Cancel</v-btn>\r\n              <v-btn color=\"blue darken-1\" text @click=\"save\">Save</v-btn>\r\n            </v-card-actions>\r\n          </v-card>\r\n        </v-dialog>\r\n      </v-toolbar>\r\n    </template>\r\n    <template v-slot:item.action=\"{ item }\">\r\n      <v-icon small class=\"mr-2\" @click=\"editItem(item)\">mdi-lead-pencil</v-icon>\r\n      <v-icon small @click=\"deleteItem(item)\">mdi-trash-can-outline</v-icon>\r\n    </template>\r\n  </v-data-table>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"editeDelete\",\r\n  data: () => ({\r\n    dialog: false,\r\n    options: {\r\n      nome: \"Nome\",\r\n      morada: \"Morada\",\r\n      codigo_postal: \"Codigo Postal\",\r\n      freguesia: \"Freguesia\",\r\n      telefone: \"Telefone\"\r\n    },\r\n    headers: [\r\n      { text: \"Nome\", value: \"nome\" },\r\n      { text: \"Morada\", value: \"morada\" },\r\n      { text: \"Codigo Postal\", value: \"codigo_postal\" },\r\n      { text: \"Freguesia\", value: \"freguesia\" },\r\n      { text: \"Telefone\", value: \"telefone\" },\r\n      { text: \"Actions\", value: \"action\" }\r\n    ],\r\n    tableData: [],\r\n    selectedItem: [],\r\n    editedIndex: -1,\r\n    editedItem: {\r\n      nome: \"\",\r\n      morada: \"\",\r\n      codigo_postal: \"\",\r\n      freguesia: \"\",\r\n      telefone: \"\"\r\n    },\r\n    defaultItem: {\r\n      nome: \"\",\r\n      morada: \"\",\r\n      codigo_postal: \"\",\r\n      freguesia: \"\",\r\n      telefone: \"\"\r\n    }\r\n  }),\r\n\r\n  computed: {\r\n    formTitle() {\r\n      return this.editedIndex === -1 ? \"New Item\" : \"Edit Item\";\r\n    },\r\n    testingData() {\r\n      return this.$store.state.tesData;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    dialog(val) {\r\n      val || this.close();\r\n    }\r\n  },\r\n\r\n  created() {\r\n    this.initialize();\r\n  },\r\n\r\n  methods: {\r\n    async getableData() {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:4000/empresas\");\r\n        this.tableData = response.data;\r\n        this.$store.state.tesData = response.data;\r\n        response;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    initialize() {\r\n      this.getableData();\r\n    },\r\n\r\n    async itemToDelete(_id) {\r\n      try {\r\n        const response = await axios.delete(\r\n          \"http://localhost:4000/empresas/\" + _id\r\n        );\r\n        //this.tableData = response.data;\r\n        //this.$store.state.tesData = response.data;\r\n        response;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    async itemToEdit(_id) {\r\n      try {\r\n        const response = await axios.post(\r\n          \"http://localhost:4000/empresas/\" + _id,\r\n          this.editedItem\r\n        );\r\n        console.log(\"item to edit\");\r\n        console.log(response);\r\n        //this.tableData = response.data;\r\n        //this.$store.state.tesData = response.data;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n\r\n    editItem(item) {\r\n      this.editedIndex = this.tableData.indexOf(item);\r\n      this.selectedItem = item;\r\n      this.editedItem = Object.assign({}, item);\r\n      console.log(this.editedItem);\r\n\r\n      this.dialog = true;\r\n    },\r\n\r\n    deleteItem(item) {\r\n      const index = this.tableData.indexOf(item);\r\n      confirm(\"Are you sure you want to delete this item?\") &&\r\n        this.tableData.splice(index, 1);\r\n      this.itemToDelete(item._id);\r\n    },\r\n\r\n    close() {\r\n      this.dialog = false;\r\n\r\n      setTimeout(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem);\r\n        this.editedIndex = -1;\r\n      }, 300);\r\n    },\r\n\r\n    save() {\r\n      if (this.editedIndex > -1) {\r\n        Object.assign(this.tableData[this.editedIndex], this.editedItem);\r\n        this.itemToEdit(this.editedItem._id);\r\n      } else {\r\n        this.tableData.push(this.editedItem);\r\n      }\r\n      this.close();\r\n    }\r\n  }\r\n};\r\n</script>"]}]}